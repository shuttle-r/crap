-- Create a ScreenGui object and parent it to the PlayerGui
local screenGui = Instance.new ("ScreenGui")
screenGui.Parent = game.Players.LocalPlayer:WaitForChild ("PlayerGui")
screenGui.Name = "Customgui"
-- Create a Frame object and parent it to the ScreenGui

local framesmall = Instance.new("ScrollingFrame")
framesmall.Parent = screenGui
framesmall.Size = UDim2.new (0.2, 0, 0.3, 0) -- make the frame half the size of the screen
framesmall.Position = UDim2.new (0.18, 0, 0.3, 0) -- center the frame on the screen
framesmall.Active = true
framesmall.BackgroundColor3 = Color3.fromRGB(217,217,217) -- white 
framesmall.AutomaticCanvasSize = Enum.AutomaticSize.Y
framesmall.CanvasSize = UDim2.new(0, 0, 0, 0)
framesmall.ScrollBarImageColor3 = Color3.fromRGB(192,74,192)
framesmall.ScrollBarThickness = framesmall.AbsoluteSize.X/15
framesmall.BackgroundTransparency = 0
local uiStroke = Instance.new("UIStroke")
uiStroke.Parent = framesmall
uiStroke.Color = Color3.fromRGB(192,74,192)
uiStroke.Thickness = 1.5
uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Set the corner radius of the frame using UICorner
local uiCorner = Instance.new ("UICorner")
uiCorner.Parent = framesmall
uiCorner.CornerRadius = UDim.new (0.1, 0) -- make the corners rounded by 10%



-- Set the size and position of the frame using UDim2
local frame = Instance.new("Frame")
frame.Size = UDim2.new (0.4, 0, 0.7, 0) -- make the frame half the size of the screen
-- center the frame on the screen
frame.BackgroundColor3 = Color3.fromRGB(217,217,217) -- white
frame.Draggable = true
frame.Active = true
frame.Selectable = true
local uiStroke = Instance.new("UIStroke")
uiStroke.Parent = frame
uiStroke.Color = Color3.fromRGB(192,74,192)
uiStroke.Thickness = 1.5
uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
local uiCorner = Instance.new ("UICorner")
uiCorner.Parent = frame
uiCorner.CornerRadius = UDim.new (0.1, 0) -- make the corners rounded by 10%

local frame2 = Instance.new("TextLabel")
frame2.Parent = screenGui
frame2.Position = UDim2.new(0.449999988, -35 ,0.109999999, 210)
frame2.Size = UDim2.new(0, 293, 0, -196) -- make the frame2 half the size of the screen
frame2.BackgroundColor3 = Color3.fromRGB(217,217,217) -- white
local uiStroke = Instance.new("UIStroke")
uiStroke.Parent = frame2
uiStroke.Color = Color3.fromRGB(192,74,192)
uiStroke.Thickness = 1.5
uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Set the corner radius of the frame2 using UICorner
local uiCorner = Instance.new ("UICorner")
uiCorner.Parent = frame2
uiCorner.CornerRadius = UDim.new (0.1, 0) -- make the corners rounded by 10%


local HideBut = Instance.new("TextButton")
HideBut.Parent = screenGui
HideBut.Name = "noHide"
HideBut.Text = "H"
HideBut.Position = UDim2.new(0.449999988, -220, 0.109999999, -65)
HideBut.Size = UDim2.new(0, 29, 0, 27) -- make the HideBut half the size of the screen
HideBut.BackgroundColor3 = Color3.fromRGB(217,217,217) -- white
local uiStroke = Instance.new("UIStroke")
uiStroke.Parent = HideBut
uiStroke.Color = Color3.fromRGB(192,74,192)
uiStroke.Thickness = 1.5
uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border

-- Set the corner radius of the HideBut using UICorner
local uiCorner = Instance.new ("UICorner")
uiCorner.Parent = HideBut
uiCorner.CornerRadius = UDim.new (0.1, 0) -- make the corners rounded by 10%
local guiHidden = false
local targetSize = UDim2.new(0, 0, 0, 0) -- Target position when visible

-- Declare a table to store the original sizes of each GUI element
local originalSizes = {}

-- Function to toggle the visibility of the GUI with a slide animation
local function toggleGuiVisibility()
    guiHidden = not guiHidden

    if guiHidden then
     for i,v in pairs(screenGui:GetChildren()) do
       if v ~= screenGui.noHide then -- Change this line
       -- Store the original size of the element in the table
       originalSizes[v.Name] = v.Size
       local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
       local tween = game:GetService("TweenService"):Create(v, tweenInfo, {Size = targetSize})
       tween:Play()
       if v:IsA("TextButton") or v:IsA("TextLabel") then
         wait(0.6)
       v.Visible = false
       end 
       end
       end
    else
         for i,v in pairs(screenGui:GetChildren()) do
       if v ~= screenGui.noHide then -- Change this line
       -- Tween the size of the GUI back to the original value stored in the table
      local tweenInfo = TweenInfo.new(0.5, Enum.EasingStyle.Quad, Enum.EasingDirection.Out)
      local tween = game:GetService("TweenService"):Create(v, tweenInfo, {Size = originalSizes[v.Name]})
      tween:Play()
      if v:IsA("TextButton") or v:IsA("TextLabel") then
       v.Visible = true
       end 
        end
        end
    end
end

-- Connect the button click event to the function
HideBut.MouseButton1Click:Connect(toggleGuiVisibility)

-- Set the background color and border color of the frame



local element_height_for_smallframe = 50*framesmall.AbsoluteSize.Y/210
local element_height_for_frame = 50*frame.AbsoluteSize.Y/210
local elements = 0

local tab = Instance.new("Frame")
tab.Name = "Tab"
tab.Visible = false
tab.BackgroundTransparency = 1
tab.Size = UDim2.new(0.95, 0, 0.025, 0)

local function addSpace(parent)
	local space = tab:Clone()
	space.Parent = parent
	space.LayoutOrder = elements
	space.Visible = true

elements = elements + 1
end




-- Create three TextButton objects and parent them to the framesmall
local ButtonForSmallFrame = Instance.new("TextButton")
ButtonForSmallFrame.Text = " " -- set the text to "Home"
ButtonForSmallFrame.TextColor3 = Color3.fromRGB(166,70,173) -- set the text color to white
ButtonForSmallFrame.BackgroundTransparency = 1
ButtonForSmallFrame.TextSize = 8

local uiCorner = Instance.new ("UICorner")
uiCorner.Parent = ButtonForSmallFrame
uiCorner.CornerRadius = UDim.new (0.1, 0) -- make the corners rounded by 10%




local ButtonForFrame = Instance.new("TextButton")
ButtonForFrame.Text = " " -- set the text to "Home"
ButtonForFrame.TextColor3 = Color3.fromRGB(166,70,173)
ButtonForFrame.BackgroundColor3 = Color3.fromRGB(200,128,206)
ButtonForFrame.BackgroundTransparency = 0
ButtonForFrame.TextSize = 9

local uiCorner = Instance.new ("UICorner")
uiCorner.Parent = ButtonForFrame
uiCorner.CornerRadius = UDim.new (0.1, 0) -- make the corners rounded by 10%

local UIListLayout = Instance.new("UIListLayout")
UIListLayout.Parent = framesmall
UIListLayout.SortOrder = Enum.SortOrder.LayoutOrder



local function addButtonOnSmallFrame(name, funct, ...)
	local newBut = ButtonForSmallFrame:Clone()
	local args = {...}

	newBut.MouseButton1Click:Connect(function()
		funct(unpack(args))
	end)

	newBut.Text = name
	newBut.Size = UDim2.new(0.95, 0, 0, element_height_for_smallframe)
	newBut.Name = name
	newBut.Parent = framesmall
	newBut.LayoutOrder = elements
	newBut.Visible = true

	elements = elements + 1
	addSpace(framesmall)

	return newBut
end

local function addButtonOnFrame(name, funct, ...)
	local newBut = ButtonForFrame:Clone()
	local args = {...}

	newBut.MouseButton1Click:Connect(function()
		funct(unpack(args))
	end)

	newBut.Text = name
	newBut.Size = UDim2.new(1.00, 0, 0, element_height_for_frame)
	newBut.Name = name
	newBut.Parent = frame
	newBut.LayoutOrder = elements
	newBut.Visible = true

	elements = elements + 1
	addSpace(frame)

	return newBut
end



local test1
test1 = addButtonOnSmallFrame("add gui", function()
 
 
local RanomName = math.random(1,999999)
 local RandomizeKey = {RanomName}
 local RandomizeToStribg = tostring(RandomizeKey)

local framesYes = frame:Clone()
  framesYes.Name =  RandomizeToStribg
	framesYes.Size = UDim2.new(0, 50, 0, 50)
	framesYes.Position = UDim2.new(0.45, 0, 0.11, 0)
	framesYes.Parent = screenGui
	framesYes.Visible = true -- Assuming this script is a child of the GUI frame
	-- Create an X button and insert it into the ScreenGui
local xButton = Instance.new("TextButton")
xButton.Parent = screenGui
xButton.Text = "X"
xButton.Name = "X"..RandomizeToStribg
xButton.Size = UDim2.new(0, 50, 0, 50) -- Change the size as you wish
xButton.Position = UDim2.new(0.5, -25, 0.5, -25) -- Change the position as you wish
xButton.BackgroundColor3 = Color3.new(1, 0, 0) -- Change the color as you wish
xButton.Draggable = true
xButton.Active = true
xButton.Selectable = true
-- Create a Y button and insert it into the ScreenGui
local yButton = Instance.new("TextButton")
yButton.Parent = screenGui
yButton.Text = "Y"
yButton.Name = "Y"..RandomizeToStribg
yButton.Size = UDim2.new(0, 50, 0, 50) -- Change the size as you wish
yButton.Position = UDim2.new(0.5, 25, 0.5, -25) -- Change the position as you wish
yButton.BackgroundColor3 = Color3.new(0, 1, 0) -- Change the color as you wish
yButton.Draggable = true
yButton.Active = true
yButton.Selectable = true

local xpos = game:GetService("Players").LocalPlayer.PlayerGui.Customgui["X"..RandomizeToStribg].Position.X.Offset
local ypos = game:GetService("Players").LocalPlayer.PlayerGui.Customgui["Y"..RandomizeToStribg].Position.Y.Offset
local localpl = game:GetService("Players").LocalPlayer.PlayerGui

local heartMoce = game:GetService("RunService").heartbeat:Connect(function()
	xpos = localpl.Customgui["X"..RandomizeToStribg].Position.X.Offset
  ypos = localpl.Customgui["Y"..RandomizeToStribg].Position.Y.Offset
	game:GetService("Players").LocalPlayer.PlayerGui.Customgui[RandomizeToStribg].Size = UDim2.fromOffset(xpos,ypos)
end)
local infoGate = game:GetService("Players").LocalPlayer.PlayerGui.Customgui[RandomizeToStribg]

while true do wait(1)
_G.GuiInfo = {
  infoGate = infoGate,
  Parent = infoGate.Parent,
  Name = infoGate.Name,
  Size = "UDim2.new(0, "..tostring(infoGate.Size.X.Offset)..", 0, "..tostring(infoGate.Size.Y.Offset)..")",  -- Change this line
  Position = "UDim2.new(0.5, "..tostring(infoGate.Position.X.Offset)..", 0, "..tostring(infoGate.Position.Y.Offset)..")", -- Change this lines
  BackgroundColor3 = infoGate.BackgroundColor3,
  Draggable = true,
  Active = true,
  Selectable = true,
}



end
end)


local test2
test2 = addButtonOnSmallFrame("View gui", function()
  -- Function to convert a table to a plain text string
function tableToString(tbl, indent)
    indent = indent or 0
    local str = ""
    for k, v in pairs(tbl) do
        if type(v) == "table" then
            str = str .. string.rep("  ", indent) .. k .. ":\n"
            str = str .. tableToString(v, indent + 1)
        else
            str = str .. string.rep("  ", indent) .. k .. ": " .. tostring(v) .. "\n"
        end
    end
    return str
end



frame2.Text = tableToString(_G.GuiInfo)

end)

local SaveBb = Instance.new("TextButton")
SaveBb.Parent = screenGui
SaveBb.Text = "S"
SaveBb.Name = "SaveBut"
SaveBb.Size = UDim2.new(0, 46, 0, 23) -- Change the size as you wish
SaveBb.Position = UDim2.new(0.449999988, 191, 0.109999999, 170) -- Change the position as you wish
SaveBb.BackgroundColor3 = Color3.new(0, 1, 0) -- Change the color as you wish
local uiStroke = Instance.new("UIStroke")
uiStroke.Parent = SaveBb
uiStroke.Color = Color3.fromRGB(192,74,192)
uiStroke.Thickness = 1.5
uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
SaveBb.MouseButton1Click:Connect(function()
	local TextIntoGui = ({
	  "local Framed = Instance.new(\"Frame\")",
	  "Framed.Parent = screenGui ",
	  "Framed.Size = ".._G.GuiInfo.Size,
	  "Framed.Position = ".._G.GuiInfo.Position,
	  "Framed.BackgroundColor3 = Color3.fromRGB(217,217,217)",
	  "Draggable = true",
    "Active = true",
    "Selectable = true",
    "local uiStroke = Instance.new(\"UIStroke\")",
    "uiStroke.Parent = frame",
    "uiStroke.Color = Color3.fromRGB(192,74,192)",
    "uiStroke.Thickness = 1.5",
    "uiStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border",
    "local uiCorner = Instance.new(\"UICorner\")",
    "uiCorner.Parent = frame",
    "uiCorner.CornerRadius = UDim.new (0.1, 0)",
	})
	print(tableToString(TextIntoGui))
	end)
-- Set the corner radius of the frame2 using UICorner
local uiCorner = Instance.new ("UICorner")
uiCorner.Parent = SaveBb
uiCorner.CornerRadius = UDim.new (0.1, 0) -- make the corners rounded by 10%
 

